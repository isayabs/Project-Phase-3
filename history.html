<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Appomodoro ‚Äì Stats / History</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Ms+Madi&family=Press+Start+2P&display=swap" rel="stylesheet" />
  <link
    href="https://fonts.googleapis.com/css2?family=Ms+Madi&family=Pixelify+Sans:wght@400..700&family=Press+Start+2P&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="./styles/stats.css">
</head>

<body>
  <div class="phone">
    <main class="app">
      <!-- Shared navbar -->
      <nav class="navbar">
        <div class="container flex-column ps-1">
          <div class="d-flex align-items-center w-100">
            <button type="button" id="menu-button" data-bs-toggle="collapse" data-bs-target="#navbarMenu"
              class="border-1 bg-transparent d-flex justify-content-center align-items-center">
              <img src="assets/hamburger-closed.svg" class="menu-icon" width="42" height="42"
                data-open="assets/hamburger-open.svg" data-close="assets/hamburger-closed.svg" />
            </button>

            <a class="navbar-brand" href="#Home">
              <img src="assets/logo1.png" width="57" height="57" class="ms-3" />
              Appomodoro Timer
            </a>
          </div>

          <div class="collapse w-100" id="navbarMenu">
            <ul class="navbar-nav flex-column ms-0">
              <li class="nav-item">
                <a class="nav-link" href="timer.html">New Pomodoro</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="tasks.html">New Task</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Stats / History</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="settings.html">Settings</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Page title -->
      <section class="title">
        <img src="assets/statstomato.png" alt="Task Icon" width="50" height="50" class="me-2" />
        <strong>Stats / History</strong>
      </section>

      <!-- Recent Pomodoros -->
      <section class="card frame">
        <h3>
          Recent pomodoros
          <span class="badge">last <span class="num">5</span></span>
        </h3>

        <div class="recent recent--rows">

          <div class="row">
            <div class="left">
              <div class="emoji" aria-hidden="true">üß†</div>
              <div>
                <div class="title">Math Review</div>
                <div class="meta">Today <span class="num num--sm">2:10</span> PM</div>
              </div>
            </div>
            <div class="mins"><span class="num num--sm">25</span> m</div>
          </div>

          <div class="row">
            <div class="left">
              <div class="emoji" aria-hidden="true">üé®</div>
              <div>
                <div class="title">UI mockups</div>
                <div class="meta">Today <span class="num num--sm">1:40</span> PM</div>
              </div>
            </div>
            <div class="mins"><span class="num num--sm">25</span> m</div>
          </div>

          <div class="row">
            <div class="left">
              <div class="emoji" aria-hidden="true">üìñ</div>
              <div>
                <div class="title">Reading</div>
                <div class="meta">Today <span class="num num--sm">1:10</span> PM</div>
              </div>
            </div>
            <div class="mins"><span class="num num--sm">25</span> m</div>
          </div>

          <div class="row">
            <div class="left">
              <div class="emoji" aria-hidden="true">ü™≤</div>
              <div>
                <div class="title">Bug fixing</div>
                <div class="meta">Yesterday <span class="num num--sm">8:40</span> PM</div>
              </div>
            </div>
            <div class="mins"><span class="num num--sm">25</span> m</div>
          </div>

          <div class="row">
            <div class="left">
              <div class="emoji" aria-hidden="true">‚úâÔ∏è</div>
              <div>
                <div class="title">Emails</div>
                <div class="meta">Yesterday <span class="num num--sm">7:55</span> PM</div>
              </div>
            </div>
            <div class="mins"><span class="num num--sm">15</span> m</div>
          </div>
        </div>
      </section>

      <!-- Favourite Pomodoro -->
      <section class="card frame">
        <h3>Favourite pomodoro</h3>

        <div class="fav">
          <div class="fav-left">
            <div class="fav-title">
              ‚ÄúDeep Work ‚Äì üìö Study‚Äù
            </div>
            <div class="fav-meta">
              <span class="num">25</span> min focus ‚Ä¢ <span class="num">5</span> min break ‚Ä¢ repeats x<span
                class="num">4</span>
            </div>
          </div>
          <div class="fav-star" aria-hidden="true">‚≠ê</div>
        </div>
      </section>

      <!-- Weekly Stats -->
      <section class="card frame">
        <h3>
          Weekly stats
          <span class="streak-badge">Streak: <span class="num">3</span>üî•</span>
        </h3>

        <div class="chart box">
          <div class="bars">
            <div class="bar">
              <div class="bar-fill" data-min="90"></div><label>Sun</label>
            </div>
            <div class="bar">
              <div class="bar-fill" data-min="140"></div><label>Mon</label>
            </div>
            <div class="bar">
              <div class="bar-fill" data-min="70"></div><label>Tue</label>
            </div>
            <div class="bar">
              <div class="bar-fill" data-min="0"></div><label>Wed</label>
            </div>
            <div class="bar">
              <div class="bar-fill" data-min="110"></div><label>Thu</label>
            </div>
            <div class="bar">
              <div class="bar-fill" data-min="45"></div><label>Fri</label>
            </div>
            <div class="bar">
              <div class="bar-fill" data-min="80"></div><label>Sat</label>
            </div>
          </div>
        </div>

        <div class="totals">
          Focused: <strong>440 min</strong> Breaks: <strong>89 min</strong>
        </div>
      </section>

    </main>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      /* ==========================
        Navbar toggle icon logic
      =========================== */
      const toggler = document.querySelector(".menu-icon");

      const collapse = document.getElementById("navbarMenu");

      collapse.addEventListener("shown.bs.collapse", () => {
        toggler.src = toggler.dataset.open;
      });

      collapse.addEventListener("hidden.bs.collapse", () => {
        toggler.src = toggler.dataset.close;
      });

      /* ==========================
        Chart bar height logic
      =========================== */
      const fills = [...document.querySelectorAll(".bars .bar-fill")];
      if (fills.length) {
        const vals = fills.map(n => Number(n.dataset.min) || 0);
        const max = Math.max(...vals, 1);
        fills.forEach((el, i) => {
          el.style.height = (vals[i] / max * 100) + "%";
        });
      }
    });
  </script>
</body>

</html>